<!DOCTYPE html>
<html lang="pt-br">
<head>  
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boootstrap - Filmes</title>
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid"> <!----Container Fluido p pegar a largura da pagina -->
                <a class="nav-link" href="#"> Navegacao </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#conteudo" aria-expanded="false">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="conteudo">
                    <ul class="navbar-nav">
                        <li class="navbar-item">
                            <a class="nav-link active" href="bootstrap.html"> Home </a>
                        </li>
                        <li class="navbar-item">
                            <a class="nav-link" href="paciente.html"> Paciente </a>
                        </li>
                        <li class="navbar-item">
                            <a class="nav-link" href="medicos.html"> Medicos </a>
                        </li>
                        <li class="navbar-item dropdown">
                            <a class="nav-link" href="filmes.html"> Filmes </a>
                        </li>
                        <li class="navbar-item dropdown">
                            <a class="nav-link" href="sobre.html"> Sobre </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <script>
        function filmes(){
        //pega o titulo
        let titulo = document.getElementById("titulo").value
        //chave da api
        let apikey = '70cda662&t'
        // requisicao ao site
        let req = new XMLHttpRequest()
        req.open('GET', `http://www.omdbapi.com/?apikey=${apikey}&t=${titulo}`, true)
        req.onload = function filmes(){
            // url da api de filmes
            let url = `http://www.omdbapi.com/?apikey=${apikey}&t=${titulo}`
            // pegar a resposta e transformar em json
            let conteudo = JSON.parse(this.response)
            //colocar os dados na caixa de texto
            document.getElementById("Title").value = conteudo.Title
                document.getElementById("Year").value = conteudo.Year
                document.getElementById("imdbRating").value = conteudo.imdbRating
                document.getElementById("imdbVotes").value = conteudo.imdbVotes
                document.getElementById("Poster").src = conteudo.Poster
        }
        req.send()
        }
    </script>
    <main>
        <div class="mb-3">  
            <label class="form-label" for="titulo"> 
            <input name="titulo" id="titulo" size="60" placeholder="Digite o nome do filme em inglês"
            class="form-control"></label>
            <button onClick="filmes()" type="button" class="btn btn-info"> Busca </button><br>
        </div>
        <div class="mb-3">
            <label class="form-label" for="Title"> Title </label> 
            <input type="text" id="Title" class="form-control"/>
        </div>
        <div class="mb-3">
            <label class="form-label" for="Year"> Year </label> 
            <input type="text" id="Year" class="form-control"/>
        </div>
        <div class="mb-3">
            <label class="form-label" for="imdbRating"> imdbRating </label> 
            <input type="text" id="imdbRating" class="form-control"/>
        </div>
        <div class="mb-3">
            <label class="form-label" for="imdbVotes"> imdbVotes </label> 
            <input type="text" id="imdbVotes" class="form-control"/>
        </div>
        <div class="mb-3">
            <img id="Poster" class="img-fluid"/>
    </main>
    <footer>
        <div class="container">  
        <h8> Desenvolvido pela turma do 2º Semestre de Computação da Uni-FACEF </h8>
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
</html>